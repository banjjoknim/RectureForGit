# CLI

### 명령줄 구문 표기

- \[옵션인자] : 선택적으로 입력하는 옵션입니다.
- <필수인자> : 필수적으로 입력해야하는 옵션입니다.
- 모든 입력들의 사이는 공백(" ")으로 구분됩니다.

---
# CLI - `Git Bash`

디렉토리를 우클릭한 뒤 `Git Bash Here`를 선택하여 디렉토리에서 바로 실행할 수 있습니다.

폴더 내부에 존재하는 파일이나 디렉토리를 입력할경우, 일부를 입력하고 `Tab`을 누르면 자동완성 기능을 사용할 수 있습니다.

1. **pwd** : `현재 폴더의 위치를 확인합니다.`


2. **ls \[-a]** : `현재 폴더의 파일 목록을 확인합니다.`
   - \[-a] 옵션을 이용하여 숨김 파일도 볼 수 있습니다.
    

3. **cd** : `홈 폴더로 이동합니다.`
   - 홈 폴더는 사용자 이름과 폴더명이 같고 내 문서 폴더의 상위 폴더입니다.


4. **cd <폴더이름>** : `특정 위치의 디렉토리로 이동합니다.`

5. **cd ../** : `현재 폴더의 상위 폴더로 이동합니다.`

6. **mkdir <새폴더이름>** : `지정한 이름으로 현재 디렉토리에 빈 폴더를 만듭니다.`


7. **rmdir <폴더이름>** : `입력한 폴더를 제거합니다.`
   - 대상 폴더가 비어있어야 제거가 가능합니다.
   - 실행시 휴지통으로 가지 않고 그냥 사라집니다.
    
8. **echo "Hello Git"** : `화면에 " " 안의 문장인 "Hello Git"을 표시합니다.`
   - 메아리 라는 뜻입니다.


9. **cat <파일명>** : `파일의 내용을 화면에 표시합니다.`

10. **clear** : `현재 화면에 표시된 문자열들을 모두 제거합니다.`

---
# CLI - `Git`

**git init**

현재 위치한 디렉토리에서 `.git` 숨김폴더를 만듭니다. 즉, 현재 디렉토리를 `Local Repository`로 만듭니다.

**git status \[-s]**

`Git 워킹트리의 상태를 보는 명령으로, 매우 자주 사용합니다.
워킹트리가 아닌 폴더에서 실행하면 오류가 발생합니다.`
- `[-s]` 옵션을 사용할 경우, git status 명령보다 짧게 요약해서 상태를 보여줍니다. 이는 변경된 파일이 많을 때 유용합니다.

**git log**

`현재 브랜치의 커밋 이력을 보는 명령입니다.`

- git log -n<숫자> 

`전체 커밋 중에서 최신 n개의 커밋만 살펴봅니다. 아래의 
다양한 옵션과 조합해서 쓸 수 있습니다.`

- git log --oneline --graph --decorate --all 

`자주 사용하는 옵션으로 간결하고 멋지게 보여줍니다.`

>  - --oneline : 커밋 메시지를 한 줄로 요약해서 보여줍니다.
  - --graph : 커밋 옆에 브랜치의 흐름을 그래프로 보여줍니다. GUI와 유사한 모습으로 나옵니다.
  - --decorate : 원래는 --decorate=short 옵션을 의미한다. 브랜치와 태그 등의 참조를 간결히 표시합니다.
  - --all : all 옵션이 없을 경우 HEAD와 관계없는 옵션은 보여주지 않습니다.
  
---
# CLI - `Git`

**git add <파일명>...**

`파일들을 스테이지에 추가합니다.
새로 생성한 파일을 스테이지에 추가하고 싶다면 반드시 add 명령을 사용합니다.`

- <파일> 뒤의 "..."의 의미는 한 번에 여러 파일 이름을 지정할 수도 있다는 뜻입니다.

**git commit \[-a] \[-m "메시지"]**

`스테이지에 있는 파일들을 커밋합니다.`

- `[-m "메시지"]` 옵션을 사용하면 `" "`속의 메시지로 커밋을 만듭니다.
- `[-a]` 옵션은 신규 파일을 제외하고 트래킹하는 모든 파일의 변경사항에 대해서 `git add` 명령어를 실행함과 동시에 커밋을 만들 수 있는 옵션입니다. `[-m]`과 함께 사용할 수 있습니다.

**git push \[-u] \[원격저장소별명] \[브랜치이름]**

`현재 브랜치에서 새로 생성한 커밋들을 원격저장소에 업로드합니다. [-u] 옵션으로 현재 브랜치의 업스트림 브랜치를 등록할 수 있습니다. 한 번 등록한 후에는 git push만 입력해도 됩니다.`

- 옵션 `[-u]`가 가리키는 것은 `upstream` 이라는 것으로, 업스트림 브랜치는 로컬저장소와 연결된 원격저장소를 일컫는 단어입니다.
- `[-u]`는 `--set-upstream`의 단축 명령입니다.
 
---
# CLI - `Git`

**git remote add <원격저장소 이름> <원격저장소 주소>**

`원격저장소를 등록합니다.`

- 원격저장소는 여러 개 등록할 수 있지만 같은 별명의 원격저장소는 하나만 가질 수 있습니다. 통상 첫 번째 원격저장소를 origin으로 지정합니다.

**git remote -v**

`원격저장소 목록을 살펴봅니다.`

---
# CLI - `Git`

**git rm \[--cached] \[-f] <파일명>**

`원격저장소와 로컬저장소에 존재하는 해당 파일을 제거합니다.`

- \[--cached] 옵션을 사용할 경우 원격저장소에 존재하는 파일만 제거합니다. 로컬저장소에 존재하는 파일은 삭제하지 않습니다.
- 이후 파일 삭제 내역이 `커밋`되면 더이상 **Git은 해당 파일을 추적하지 않습니다.**

---
# CLI - `Git`

**git clone <저장소 주소> \[새로운 폴더명]**

`저장소 주소에서 프로젝트를 복제해 옵니다. 이때 새로 생길 폴더명은 생략 가능하며, 폴더명을 생략하면 프로젝트 이름과 같은 이름의 폴더가 새로 생성됩니다.`

- 저장소 주소가 반드시 원격저장소의 주소일 필요는 없습니다. 때에 따라 로컬저장소도 `git clone` 명령으로 복제하여 사용할 수도 있습니다.
- 현재 폴더에 복제를 하고싶다면 `[새로운 폴더명]` 옵션에 `.`을 입력하면 됩니다.

**git pull**

`원격저장소의 변경사항을 워킹트리에 반영합니다. `

- 사실은 `git fetch`와 `git merge`를 합친 명령입니다.

**git fetch \[원격저장소별명] \[브랜치이름]**

`원격저장소의 브랜치와 커밋들을 로컬저장소와 동기화합니다. 옵션을 생략하면 모든 원격저장소에서 모든 브랜치를 가져옵니다.`

---
# CLI - `Git`

**git reset \[파일명]**

`스테이지 영역에 있는 파일들을 스테이지에서 내립니다(언스테이징, mixed reset).`
- 워킹트리의 내용은 변경되지 않습니다. \[파일명] 옵션을 생략할 경우 스테이지의 모든 변경사항을 초기화합니다.
- (soft, mixed, hard) 3가지의 옵션을 선택할 수 있으며, 옵션을 생략하고 사용할 경우 mixed reset으로 동작합니다.`

**git reset --hard <이동할 커밋 체크섬>**

`현재 브랜치를 지정한 커밋으로 옮깁니다. 이때, 작업 폴더의 내용도 함께 변경됩니다.`

- `reset`은 현재 브랜치를 특정 커밋으로 되돌릴 때 사용합니다. 이 중에서 가장 많이 사용하는 `git reset --hard` 명령을 실행하면 현재 브랜치를 지정한 커밋으로 옮긴 후 해당 커밋의 내용을 작업 폴더에도 반영합니다.

>**커밋 체크섬 약칭**
>
>`HEAD~n<숫자>` : `HEAD~`은 헤드의 부모 커밋, `HEAD~2`는 헤드의 할아버지 커밋을 말한다. `HEAD~n`은 n번째 위쪽 조상이라는 뜻이다.
>
>`HEAD^<숫자>` : `HEAD^`은 똑같이 부모 커밋이다. 반면 `HEAD^2`는 두 번째 부모를 가르킨다. 병합 커밋처럼 부모가 둘 이상인 커밋에서만 의미가 있다.

---
# CLI - `Git`

**git config**

`Git의 옵션을 보거나, 설정 값을 바꿀 수 있습니다.`

**`옵션 설정 값 확인`**
- config <--global> <옵션명>
- config <--local> <옵션명>
- config <--system> <옵션명>

**`옵션 설정 값 지정`**
- config <--global> <옵션명> <새로운 값>
- config <--local> <옵션명> <새로운 값>
- config <--system> <옵션명> <새로운 값>

**`옵션 설정 값 제거`**
- config <--global> --unset <옵션명>
- config <--local> --unset <옵션명>
- config <--system> --unset <옵션명>

**`설정된 모든 옵션리스트 표시`**
- config --list

---
# CLI - `Git`

**git branch**

`현재 브랜치 목록을 보여줍니다.`

**git branch \[-v]**

`로컬저장소의 브랜치 목록을 보는 명령으로 [-v] 옵션을 사용하면 마지막 커밋도 함께 표시됩니다.
표시된 브랜치 중에서 이름 왼쪽에 *가 붙어있으면 HEAD 브랜치입니다.`

**git branch \[-f] <브랜치이름> \[커밋체크섬]**

`새로운 브랜치를 생성합니다. 커밋체크섬 값을 주지 않으면 HEAD로부터 브랜치를 생성합니다. 이미 있는 브랜치를 다른 커밋으로 옮기고 싶을 때는 [-f] 옵션을 줘야 합니다.`

**git branch -r\[v]** 

`원격저장소에 있는 브랜치를 보고 싶을 때 사용합니다. 마찬가지로 \[-v] 옵션을 추가하여 커밋 요약도 볼 수 있습니다.`

**git checkout <브랜치이름>** 

`특정 브랜치로 체크아웃할 때 사용합니다. 브랜치 이름 대신 커밋 체크섬을 쓸 수 있습니다. 하지만 브랜치 이름을 쓰는 방법을 강력히 권장합니다.`

**git checkout -b <브랜치이름> <커밋 체크섬>** 

`특정 커밋에서 브랜치를 새로 생성하고 동시에 체크아웃까지 합니다. 두 명령을 하나로 합친 명령이기 때문에 간결해서 자주 사용합니다.`

**git checkout <커밋 체크섬>**

`실행시 HEAD와 브랜치가 분리되는 Detached HEAD 상황이 됩니다. 이 상황에서도 여전히 커밋을 생성할 수 있지만 다른 브랜치로 체크아웃하는 순간 Detached HEAD의 커밋들은 다 사라져서 안 보이게 됩니다.(사실 커밋은 여전히 로컬저장소에 남아있기 때문에 이후에 설명할 git reflog 명령으로 복구할 수 있지만 권장하지 않는 작업 방법입니다.)`

**git merge <대상 브랜치>** 

`지정한 브랜치의 커밋들을 현재 브랜치 및 워킹트리에 반영합니다.`

- 현재 브랜치와 대상 브랜치를 병합할 때 사용합니다. `병합 커밋(merge commit)`이 새로 생기는 경우가 많습니다.
- `Fast-forward(빨리 감기) 병합`은 작업의 흐름이 하나일때 할 수 있습니다.
- 충돌시 **`git merge --abort`** 명령을 통해 `병합(merge)을 취소`할 수도 있습니다.

>#### 충돌 발생시 해결 과정
1. 목적에 맞게 충돌 파일 수정.
2. git add <충돌 파일>.
3. git status 명령어를 통해 충돌해결 확인.
4. git commit 명령어를 통해 merge commit 생성.
5. git log 명령어를 통해 merge 로그 확인 및 충돌 해결 완료.


**git rebase <대상 브랜치>** 

`내 브랜치의 커밋들을 대상 브랜치에 재배치시킵니다. 히스토리가 깔끔해져서 자주 사용하지만 조심해야합니다.
이유는 추후에 설명합니다.`

**git branch -d <브랜치이름>** 

`특정 브랜치를 삭제할 때 사용합니다. HEAD 브랜치나 병합이 되지 않은 브랜치는 삭제할 수 없습니다.`

**git branch -D <브랜치이름>** 

`브랜치를 강제로 삭제하는 명령입니다. \[-d] 로 삭제할 수 없는 브랜치를 지우고 싶을 때 사용합니다. 역시 조심해야 합니다.`

**git revert <커밋 체크섬>**

`커밋을 되돌려 커밋하기 이전의 상태로 돌아갑니다.`

**git rebase <대상 브랜치>**

`현재 브랜치에만 있는 새로운 커밋을 대상 브랜치 위로 재배치시킵니다.`
- 현재 브랜치에 재배치할 커밋이 없을 경우 **rebase**는 아무런 동작을 하지 않습니다. 또한, 빨리 감기 병합이 가능한 경우에는 **rebase** 명령을 수행하면 빨리 감기 병합을 합니다.

---
# CLI - `Git` 

**git tag -a -m <간단한 메시지> <태그 이름> \[브랜치 또는 체크섬]**

`-a 로 주석 있는(annotated) 태그를 생성합니다. 메시지와 태그 이름은 필수이며 브랜치 이름을 생략하면 HEAD에 태그를 생성합니다.`

**git push <원격저장소 별명> <태그 이름>**

`원격 저장소에 태그를 업로드합니다.`

---
# CLI - `Git`

**git help <명령어>**

`도움말 기능. 웹 브라우저가 열리면서 해당 명령어에 대한 내용이 표시됩니다.`

- git help status
- git help commit
- git help add
- etc...

**이 외에도 다양한 명령어들이 있습니다. 궁금하신 분은 추가적으로 공부하시길 바랍니다.**

---